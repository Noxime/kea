image: "rust:latest"

engine:
  before_script:
  - rustup update nightly
  - rustup default nightly
  - apt-get update
  script:
  - rustc --version && cargo --version
  - cd engine
  - cargo build --verbose

game:
  before_script:
  - rustup update nightly
  - rustup default nightly
  - apt-get update
  script:
  - rustc --version && cargo --version
  - cd game
  - cargo build --verbose

desktop:
  before_script:
  - rustup update nightly
  - rustup default nightly
  - apt-get update
  - apt-get install libudev-dev
  script:
  - rustc --version && cargo --version
  - cd target-desktop
  - cargo build --verbose
